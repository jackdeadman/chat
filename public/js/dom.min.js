var DOM=function(){function e(e,t){this.elements=void 0===e?[]:e instanceof Array?e:e===document?[document]:e.nodeType?[e]:n((t||document).querySelectorAll(e))}var t=function(e){return"undefined"!=typeof e},n=function(e){return Array.prototype.slice.call(e)},r=e.prototype;return r.each=function(e){for(var t=0;t<this.elements.length;++t)e(this.elements[t],t);return this},r.find=function(t){var r=[];return this.each(function(e){r=r.concat(n(e.querySelectorAll(t)))}),new e(r)},r.first=function(){return this.elements[0]},r.parent=function(t){for(var r=n(document.querySelectorAll(t)),i=this.first();!~r.indexOf(i.parentNode);)if(i=i.parentNode,i===document)return new e;return new e(i)},r.value=function(e){return t(e)?(this.each(function(t){t.value=e}),this):this.elements[0].value},r.attribute=function(e,n){return t(n)?(this.each(function(t){t.setAttribute(e,n)}),this):this.elements[0].getAttribute(e)},r.html=function(e){return t(e)?(this.each(function(t){t.innerHTML=e}),this):this.elements[0].innerHTML},r.append=function(e){return"string"==typeof e?(this.each(function(t){t.innerHTML+=e}),this):(this.each(function(t){t.appendChild(e.cloneNode(!0))}),this)},r.prepend=function(e){return"string"==typeof e?(this.each(function(t){t.innerHTML=e+t.innerHTML}),this):(this.each(function(t){t.insertBefore(e.cloneNode(!0),t.firstChild)}),this)},r.on=function(e,t,n){return this.each(function(r){r.addEventListener?r.addEventListener(e,t,!!n):r.attachEvent&&r.attachEvent("on"+e,t)}),this},r.off=function(e,t,n){return this.each(function(r){r.removeEventListener?r.removeEventListener(e,t,!!n):r.detachEvent&&r.detachEvent("on"+e,t)}),this},r.ready=function(e){return this.on("DOMContentLoaded",e)},function(t,n){return new e(t,n)}}();!function(e){var t="{{ }}";e.encodeObject=function(e){for(var t="",n=Object.keys(e),r=0;r<n.length;++r){var i=n[r],s=e[i];t+=i,t+="=",t+=s,t+="&"}return t.slice(0,t.length-1)},e.renderTemplate=function(e,n){for(var r=t.split(" "),i=Object.keys(n),s=0;s<i.length;++s){var c=i[s],o=n[c],u=new RegExp(r[0]+"s*"+c+"s*"+r[1],"g");e=e.replace(u,o)}return e},e.xhr=function(t){var n,r={data:{},type:"json",method:"GET",success:function(){},error:function(){},async:!0},i=t.src,s=t.data||r.data,c=t.type||r.type,o=t.success||r.success,u=t.success||r.success,a=t.async||r.async,h=t.method||r.method;n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),n.onreadystatechange=function(){if(n.readyState==XMLHttpRequest.DONE)if(200==n.status){var e="json"===c?JSON.parse(n.responseText):n.responseText;o.call(this,e)}else u.call(this,n.status)},"GET"===h?n.open("GET",i,a):(n.open(h,i,a),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send(e.encodeObject(s))),n.send()}}(DOM);